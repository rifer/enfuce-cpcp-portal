{
  "version": "1.0.0",
  "description": "Test cases for conversational wizard AI validation",
  "test_cases": [
    {
      "id": "greeting-1",
      "category": "greetings",
      "step": "program_name",
      "input": "hey, how are you?",
      "expected_validation": false,
      "expected_command": "greeting",
      "expected_response_contains": ["happy to help", "program name"],
      "description": "Should recognize greeting and redirect to question"
    },
    {
      "id": "greeting-2",
      "category": "greetings",
      "step": "program_type",
      "input": "hello there!",
      "expected_validation": false,
      "expected_command": "greeting",
      "expected_response_contains": ["card program type"],
      "description": "Greeting in middle of flow"
    },
    {
      "id": "name-valid-1",
      "category": "validation",
      "step": "program_name",
      "input": "Corporate Travel Card",
      "expected_validation": true,
      "expected_value": "Corporate Travel Card",
      "description": "Valid program name"
    },
    {
      "id": "name-valid-2",
      "category": "validation",
      "step": "program_name",
      "input": "My company's fleet card program",
      "expected_validation": true,
      "expected_value": "My company's fleet card program",
      "description": "Natural language program name"
    },
    {
      "id": "name-too-short",
      "category": "validation",
      "step": "program_name",
      "input": "AB",
      "expected_validation": false,
      "expected_response_contains": ["at least 3 characters", "longer"],
      "description": "Too short name rejection"
    },
    {
      "id": "type-exact-match",
      "category": "validation",
      "step": "program_type",
      "input": "corporate",
      "expected_validation": true,
      "expected_value": "corporate",
      "description": "Exact match for program type"
    },
    {
      "id": "type-natural-language",
      "category": "validation",
      "step": "program_type",
      "input": "This is for our company's employees",
      "expected_validation": true,
      "expected_value": "corporate",
      "description": "Natural language → corporate"
    },
    {
      "id": "type-fleet-variations",
      "category": "validation",
      "step": "program_type",
      "input": "fuel cards for our trucks",
      "expected_validation": true,
      "expected_value": "fleet",
      "description": "Natural language → fleet"
    },
    {
      "id": "type-meal-variations",
      "category": "validation",
      "step": "program_type",
      "input": "lunch vouchers",
      "expected_validation": true,
      "expected_value": "meal",
      "description": "Natural language → meal"
    },
    {
      "id": "type-invalid",
      "category": "validation",
      "step": "program_type",
      "input": "something weird",
      "expected_validation": false,
      "expected_response_contains": ["didn't understand", "choose from"],
      "description": "Invalid program type"
    },
    {
      "id": "funding-exact",
      "category": "validation",
      "step": "funding_model",
      "input": "prepaid",
      "expected_validation": true,
      "expected_value": "prepaid",
      "description": "Exact funding model match"
    },
    {
      "id": "funding-natural",
      "category": "validation",
      "step": "funding_model",
      "input": "we want to preload the cards",
      "expected_validation": true,
      "expected_value": "prepaid",
      "description": "Natural language → prepaid"
    },
    {
      "id": "form-factor-single",
      "category": "validation",
      "step": "form_factor",
      "input": "physical",
      "expected_validation": true,
      "expected_value": ["physical"],
      "description": "Single form factor"
    },
    {
      "id": "form-factor-all-keyword",
      "category": "validation",
      "step": "form_factor",
      "input": "all",
      "expected_validation": true,
      "expected_value": ["physical", "virtual", "tokenized"],
      "description": "'all' keyword selects all options"
    },
    {
      "id": "form-factor-all-natural",
      "category": "validation",
      "step": "form_factor",
      "input": "we want all of them",
      "expected_validation": true,
      "expected_value": ["physical", "virtual", "tokenized"],
      "description": "Natural 'all' → all options"
    },
    {
      "id": "form-factor-multiple-comma",
      "category": "validation",
      "step": "form_factor",
      "input": "physical, virtual",
      "expected_validation": true,
      "expected_value": ["physical", "virtual"],
      "description": "Comma-separated multiple selection"
    },
    {
      "id": "form-factor-multiple-and",
      "category": "validation",
      "step": "form_factor",
      "input": "physical and tokenized",
      "expected_validation": true,
      "expected_value": ["physical", "tokenized"],
      "description": "'and' separator for multiple"
    },
    {
      "id": "scheme-exact",
      "category": "validation",
      "step": "card_scheme",
      "input": "Visa",
      "expected_validation": true,
      "expected_value": "Visa",
      "description": "Exact card scheme"
    },
    {
      "id": "scheme-case-insensitive",
      "category": "validation",
      "step": "card_scheme",
      "input": "visa",
      "expected_validation": true,
      "expected_value": "Visa",
      "description": "Case-insensitive match"
    },
    {
      "id": "scheme-typo",
      "category": "typo_correction",
      "step": "card_scheme",
      "input": "viza",
      "expected_validation": true,
      "expected_value": "Visa",
      "expected_response_contains": ["Visa"],
      "description": "Typo correction: viza → Visa"
    },
    {
      "id": "scheme-typo-2",
      "category": "typo_correction",
      "step": "card_scheme",
      "input": "masterard",
      "expected_validation": true,
      "expected_value": "Mastercard",
      "description": "Typo correction: masterard → Mastercard"
    },
    {
      "id": "currency-exact",
      "category": "validation",
      "step": "currency",
      "input": "EUR",
      "expected_validation": true,
      "expected_value": "EUR",
      "description": "Exact currency code"
    },
    {
      "id": "currency-name",
      "category": "validation",
      "step": "currency",
      "input": "euros",
      "expected_validation": true,
      "expected_value": "EUR",
      "description": "Currency name → code"
    },
    {
      "id": "currency-natural",
      "category": "validation",
      "step": "currency",
      "input": "we're based in Sweden",
      "expected_validation": true,
      "expected_value": "SEK",
      "description": "Location mention → currency"
    },
    {
      "id": "number-exact",
      "category": "validation",
      "step": "estimated_cards",
      "input": "500",
      "expected_validation": true,
      "expected_value": 500,
      "description": "Exact number"
    },
    {
      "id": "number-with-text",
      "category": "validation",
      "step": "estimated_cards",
      "input": "about 500 cards",
      "expected_validation": true,
      "expected_value": 500,
      "description": "Number extraction from text"
    },
    {
      "id": "number-natural-language",
      "category": "validation",
      "step": "estimated_cards",
      "input": "we have around 50 employees",
      "expected_validation": true,
      "expected_value": 50,
      "description": "Natural language number"
    },
    {
      "id": "number-commas",
      "category": "validation",
      "step": "estimated_cards",
      "input": "2,000",
      "expected_validation": true,
      "expected_value": 2000,
      "description": "Number with comma separator"
    },
    {
      "id": "command-back",
      "category": "commands",
      "step": "funding_model",
      "input": "back",
      "expected_validation": false,
      "expected_command": "back",
      "description": "Back command"
    },
    {
      "id": "command-help",
      "category": "commands",
      "step": "program_type",
      "input": "help",
      "expected_validation": false,
      "expected_command": "help",
      "expected_response_contains": ["commands", "type"],
      "description": "Help command"
    },
    {
      "id": "command-summary",
      "category": "commands",
      "step": "currency",
      "input": "summary",
      "expected_validation": false,
      "expected_command": "summary",
      "expected_response_contains": ["program", "far"],
      "description": "Summary command"
    },
    {
      "id": "command-skip",
      "category": "commands",
      "step": "daily_limit",
      "input": "skip",
      "expected_validation": false,
      "expected_command": "skip",
      "description": "Skip command"
    },
    {
      "id": "correction-1",
      "category": "corrections",
      "step": "program_type",
      "input": "actually, I meant fleet",
      "expected_validation": true,
      "expected_value": "fleet",
      "expected_response_contains": ["fleet"],
      "description": "User self-correction"
    },
    {
      "id": "question-about-option",
      "category": "questions",
      "step": "funding_model",
      "input": "what's the difference between prepaid and debit?",
      "expected_validation": false,
      "expected_command": "question",
      "expected_response_contains": ["prepaid", "debit"],
      "description": "Question about options"
    },
    {
      "id": "math-expression",
      "category": "math",
      "step": "daily_limit",
      "input": "500 + 200",
      "expected_validation": true,
      "expected_value": 700,
      "description": "Math expression evaluation"
    },
    {
      "id": "math-with-text",
      "category": "math",
      "step": "monthly_limit",
      "input": "daily limit times 30, so 500 * 30",
      "expected_validation": true,
      "expected_value": 15000,
      "description": "Math with context"
    },
    {
      "id": "currency-dollar",
      "category": "validation",
      "step": "currency",
      "input": "dollars",
      "expected_validation": true,
      "expected_value": "USD",
      "description": "Currency name: dollars → USD"
    },
    {
      "id": "currency-pound",
      "category": "validation",
      "step": "currency",
      "input": "British pounds",
      "expected_validation": true,
      "expected_value": "GBP",
      "description": "Currency name: British pounds → GBP"
    },
    {
      "id": "currency-norway",
      "category": "validation",
      "step": "currency",
      "input": "Norwegian krone",
      "expected_validation": true,
      "expected_value": "NOK",
      "description": "Currency: Norwegian krone → NOK"
    },
    {
      "id": "currency-denmark",
      "category": "validation",
      "step": "currency",
      "input": "Danish krone",
      "expected_validation": true,
      "expected_value": "DKK",
      "description": "Currency: Danish krone → DKK"
    },
    {
      "id": "currency-poland",
      "category": "validation",
      "step": "currency",
      "input": "zloty",
      "expected_validation": true,
      "expected_value": "PLN",
      "description": "Currency: zloty → PLN"
    },
    {
      "id": "currency-swiss",
      "category": "validation",
      "step": "currency",
      "input": "Swiss francs",
      "expected_validation": true,
      "expected_value": "CHF",
      "description": "Currency: Swiss francs → CHF"
    },
    {
      "id": "scheme-amex-short",
      "category": "validation",
      "step": "card_scheme",
      "input": "amex",
      "expected_validation": true,
      "expected_value": "American Express",
      "description": "Scheme abbreviation: amex → American Express"
    },
    {
      "id": "scheme-amex-full",
      "category": "validation",
      "step": "card_scheme",
      "input": "american express",
      "expected_validation": true,
      "expected_value": "American Express",
      "description": "Full name: american express → American Express"
    },
    {
      "id": "scheme-amex-ae",
      "category": "validation",
      "step": "card_scheme",
      "input": "AE",
      "expected_validation": true,
      "expected_value": "American Express",
      "description": "Abbreviation: AE → American Express"
    },
    {
      "id": "type-work",
      "category": "validation",
      "step": "program_type",
      "input": "work cards",
      "expected_validation": true,
      "expected_value": "corporate",
      "description": "Natural language: work → corporate"
    },
    {
      "id": "type-office",
      "category": "validation",
      "step": "program_type",
      "input": "office expenses",
      "expected_validation": true,
      "expected_value": "corporate",
      "description": "Natural language: office → corporate"
    },
    {
      "id": "factor-wallet",
      "category": "validation",
      "step": "form_factor",
      "input": "mobile wallet",
      "expected_validation": true,
      "expected_response_contains": ["tokenized"],
      "description": "Form factor: mobile wallet → tokenized"
    },
    {
      "id": "factor-apple-pay",
      "category": "validation",
      "step": "form_factor",
      "input": "Apple Pay",
      "expected_validation": true,
      "expected_response_contains": ["tokenized"],
      "description": "Form factor: Apple Pay → tokenized"
    },
    {
      "id": "typo-travel",
      "category": "typo_correction",
      "step": "program_type",
      "input": "tarvel",
      "expected_validation": true,
      "expected_value": "travel",
      "description": "Typo correction: tarvel → travel"
    },
    {
      "id": "typo-discover",
      "category": "typo_correction",
      "step": "card_scheme",
      "input": "discrover",
      "expected_validation": true,
      "expected_value": "Discover",
      "description": "Typo correction: discrover → Discover"
    },
    {
      "id": "typo-corporate",
      "category": "typo_correction",
      "step": "program_type",
      "input": "coroprate",
      "expected_validation": true,
      "expected_value": "corporate",
      "description": "Typo correction: coroprate → corporate"
    },
    {
      "id": "location-italy",
      "category": "location_mapping",
      "step": "currency",
      "input": "We are based in Italy",
      "expected_validation": true,
      "expected_value": "EUR",
      "description": "Location mapping: Italy → EUR"
    },
    {
      "id": "location-usa",
      "category": "location_mapping",
      "step": "currency",
      "input": "United States",
      "expected_validation": true,
      "expected_value": "USD",
      "description": "Location mapping: USA → USD"
    },
    {
      "id": "location-spain",
      "category": "location_mapping",
      "step": "currency",
      "input": "Spain",
      "expected_validation": true,
      "expected_value": "EUR",
      "description": "Location mapping: Spain → EUR"
    },
    {
      "id": "location-norway",
      "category": "location_mapping",
      "step": "currency",
      "input": "We're in Norway",
      "expected_validation": true,
      "expected_value": "NOK",
      "description": "Location mapping: Norway → NOK"
    },
    {
      "id": "written-two-hundred",
      "category": "number_extraction",
      "step": "estimated_cards",
      "input": "two hundred",
      "expected_validation": true,
      "expected_value": 200,
      "description": "Written number: two hundred → 200"
    },
    {
      "id": "written-one-thousand",
      "category": "number_extraction",
      "step": "estimated_cards",
      "input": "one thousand",
      "expected_validation": true,
      "expected_value": 1000,
      "description": "Written number: one thousand → 1000"
    },
    {
      "id": "written-five-hundred",
      "category": "number_extraction",
      "step": "daily_limit",
      "input": "five hundred",
      "expected_validation": true,
      "expected_value": 500,
      "description": "Written number: five hundred → 500"
    },
    {
      "id": "written-in-sentence",
      "category": "number_extraction",
      "step": "estimated_cards",
      "input": "about two hundred in a first try",
      "expected_validation": true,
      "expected_value": 200,
      "description": "Written number in sentence: two hundred → 200"
    },
    {
      "id": "multiselect-them-all",
      "category": "multiselect",
      "step": "form_factor",
      "input": "them all is fine",
      "expected_validation": true,
      "expected_response_contains": ["physical", "virtual"],
      "description": "Multiselect all: them all → all options"
    },
    {
      "id": "multiselect-everything",
      "category": "multiselect",
      "step": "form_factor",
      "input": "everything",
      "expected_validation": true,
      "expected_response_contains": ["physical", "virtual"],
      "description": "Multiselect all: everything → all options"
    },
    {
      "id": "multiselect-every-one",
      "category": "multiselect",
      "step": "form_factor",
      "input": "every one",
      "expected_validation": true,
      "expected_response_contains": ["physical", "virtual"],
      "description": "Multiselect all: every one → all options"
    },
    {
      "id": "skip-no",
      "category": "commands",
      "step": "daily_limit",
      "input": "no",
      "expected_validation": false,
      "expected_command": "skip",
      "description": "Skip command: no → skip"
    },
    {
      "id": "skip-pass",
      "category": "commands",
      "step": "daily_limit",
      "input": "pass",
      "expected_validation": false,
      "expected_command": "skip",
      "description": "Skip command: pass → skip"
    },
    {
      "id": "skip-not-now",
      "category": "commands",
      "step": "monthly_limit",
      "input": "not now",
      "expected_validation": false,
      "expected_command": "skip",
      "description": "Skip command: not now → skip"
    },
    {
      "id": "skip-dont-know",
      "category": "commands",
      "step": "daily_limit",
      "input": "i don't know",
      "expected_validation": false,
      "expected_command": "skip",
      "description": "Skip command: i don't know → skip"
    },
    {
      "id": "digit-scale-2-hundred",
      "category": "number_extraction",
      "step": "estimated_cards",
      "input": "2 hundred",
      "expected_validation": true,
      "expected_value": 200,
      "description": "Digit + scale: 2 hundred → 200"
    },
    {
      "id": "digit-scale-5-thousand",
      "category": "number_extraction",
      "step": "estimated_cards",
      "input": "5 thousand",
      "expected_validation": true,
      "expected_value": 5000,
      "description": "Digit + scale: 5 thousand → 5000"
    },
    {
      "id": "digit-scale-10-hundred",
      "category": "number_extraction",
      "step": "estimated_cards",
      "input": "10 hundred",
      "expected_validation": true,
      "expected_value": 1000,
      "description": "Digit + scale: 10 hundred → 1000"
    },
    {
      "id": "digit-scale-3-million",
      "category": "number_extraction",
      "step": "estimated_cards",
      "input": "3 million",
      "expected_validation": true,
      "expected_value": 3000000,
      "description": "Digit + scale: 3 million → 3000000"
    },
    {
      "id": "strict-match-visa-not-program-type",
      "category": "strict_matching",
      "step": "program_type",
      "input": "Visa",
      "expected_validation": false,
      "description": "Strict match: 'Visa' should NOT match program_type"
    },
    {
      "id": "strict-match-visa-not-funding",
      "category": "strict_matching",
      "step": "funding_model",
      "input": "Visa",
      "expected_validation": false,
      "description": "Strict match: 'Visa' should NOT match funding_model"
    },
    {
      "id": "strict-match-visa-not-currency",
      "category": "strict_matching",
      "step": "currency",
      "input": "VISA",
      "expected_validation": false,
      "description": "Strict match: 'VISA' should NOT match currency"
    },
    {
      "id": "strict-match-visa-for-scheme",
      "category": "strict_matching",
      "step": "card_scheme",
      "input": "Visa",
      "expected_validation": true,
      "expected_value": "Visa",
      "description": "Strict match: 'Visa' SHOULD match card_scheme"
    },
    {
      "id": "typo-with-digit-2hudrez",
      "category": "typo_detection",
      "step": "estimated_cards",
      "input": "2hudrez",
      "expected_validation": false,
      "description": "Typo detection: '2hudrez' should not be accepted as valid number"
    }
  ]
}
